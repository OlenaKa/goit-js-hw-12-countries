{"version":3,"sources":["webpack:///./js/countries.js","webpack:///./templates/onecountry.hbs","webpack:///./templates/multycountries.hbs"],"names":["debounce","require","error","defaults","inputRef","document","querySelector","countriesRef","deleteAlert","alertMessage","body","contains","style","display","cleanMarkup","innerHTML","addEventListener","e","value","fetch","then","res","json","findCountries","countries","numberOfCountries","country","length","multyCountriesTemplate","markupCountrieList","oneCountryTemplate","closer","sticker","width","delay","text","undefined","onInput","Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","alias1","alias2","nullContext","program","noop"],"mappings":"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","file":"main.708cf03eb9f69d5936dd.js","sourcesContent":["const debounce = require('debounce');\r\nimport multyCountriesTemplate from '../templates/multycountries.hbs';\r\nimport oneCountryTemplate from '../templates/onecountry.hbs';\r\nconst { error } = require('@pnotify/core');\r\nconst { defaults } = require('@pnotify/core');\r\n\r\n\r\n\r\n\r\nconst inputRef = document.querySelector('input');\r\nconst countriesRef = document.querySelector('.countries');\r\n\r\ndocument.addEventListener('input', debounce(e=>onInput(inputRef.value), 500));\r\n\r\nfunction findCountries (value) {\r\n  const requestRef = `https://restcountries.eu/rest/v2/name/${value}`;\r\n  return fetch(requestRef).then(res=>res.json()).then(res=>res);\r\n}\r\n\r\nfunction onInput (value) {\r\n  if (value === ''){\r\n   return cleanMarkup();\r\n  };\r\n  findCountries(value).then(res=>checkCountries(res));\r\n}\r\n\r\nfunction checkCountries (countries) {\r\n  const numberOfCountries = countries.length;\r\n  \r\n  if (numberOfCountries > 1 && numberOfCountries <= 10) {\r\n    deleteAlert();\r\n    markupCountrieList(countries);\r\n  } \r\n    else if (numberOfCountries === 1){\r\n    deleteAlert();\r\n    markupForOneCountry(countries);\r\n  } \r\n    else if (numberOfCountries > 10) {\r\n    deleteAlert();\r\n    cleanMarkup();\r\n    showAlert();\r\n  } \r\n    else if (numberOfCountries === undefined) {\r\n    deleteAlert();\r\n    cleanMarkup();\r\n    showErrorAlert();\r\n  }\r\n}\r\n\r\nfunction markupForOneCountry (country) {\r\n  countriesRef.innerHTML = oneCountryTemplate(...country);\r\n}\r\n\r\nfunction markupCountrieList (countries) {\r\n  countriesRef.innerHTML = multyCountriesTemplate(countries);\r\n}\r\n\r\nfunction showAlert (){\r\n  defaults.closer = false;\r\n  defaults.sticker = false;\r\n  defaults.width = '300px';\r\n  defaults.delay = 5000;\r\n\r\n  error ({\r\n    text: 'Too many matches found. Please enter a more specific query!',\r\n  })\r\n\r\n}\r\n\r\nfunction showErrorAlert () {\r\n  defaults.closer = false;\r\n  defaults.sticker = false;\r\n  defaults.width = '300px';\r\n  defaults.delay = 5000;\r\n\r\n  error ({\r\n    text: 'Ups. Something went wrong. Try to check spelling.',\r\n  });\r\n}\r\n\r\nfunction deleteAlert () {\r\n  const alertMessage = document.querySelector('.pnotify');\r\n  if (document.body.contains(alertMessage)) {\r\n     alertMessage.style.display = 'none';\r\n  }\r\n}\r\n\r\nfunction cleanMarkup () {\r\n  countriesRef.innerHTML = '';\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"country-name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n<ul class=\\\"main-info\\\">\\r\\n  <li class=\\\"capital\\\"> <span class=\\\"prop-name\\\">Capital:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</li>\\r\\n  <li class=\\\"population\\\"><span class=\\\"prop-name\\\">Polupation:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</li>\\r\\n  <li class=\\\"languages\\\"> <span class=\\\"prop-name\\\">Languages:</span>\\r\\n    <ul class=\\\"languages-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":6},\"end\":{\"line\":9,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n  </li>\\r\\n  <li class=\\\"flag\\\">\\r\\n    <img src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \" alt=\\\"flag of \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\r\\n  </li>\\r\\n</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <li class=\\\"country-name\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":4,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}